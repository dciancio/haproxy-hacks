# [NE-1690 - Analyse Memory Impact of Pre-Allocated Server Slots for Different Numbers of Routes](https://issues.redhat.com/browse/NE-1690)

Column headers: ST=<0|1> (use-server-template), T<n> (#Threads), RSS (Memory usage in MB)
## HAProxy version 2.8.5-aaba8d0 2023/12/07 - https://haproxy.org/
## Algorithm=leastconn, Weight=1 maxconn=50000
```
#backends  #servers  ST=1 T4 RSS  ST=0 T4 RSS  ST=1 T64 RSS  ST=0 T64 RSS
---------  --------  -----------  -----------  ------------  ------------
      100         0           12           12            17            17
                  1           12           12            18            18
                  2           12           12            19            19
                  5           14           14            21            21
                 10           16           16            25            25
                100           54           54            98            99
                200           96           97           180           180
                300          138          139           261           262
     1000         0           18           18            23            23
                  1           22           22            32            32
                  2           27           26            40            40
                  5           39           39            64            64
                 10           60           61           105           105
                100          441          444           835           838
                200          863          869          1647          1653
                300         1286         1295          2459          2468
    10000         0           80           81            86            86
                  1          123          123           168           167
                  2          166          166           249           249
                  5          292          293           492           493
                 10          504          506           898           901
                100         4308         4338          8204          8234
                200         8534         8595         16322         16383
                300        12761        12852         24205         24531
```
## Algorithm=random, Weight=1 maxconn=50000
```
#backends  #servers  ST=1 T4 RSS  ST=0 T4 RSS  ST=1 T64 RSS  ST=0 T64 RSS
---------  --------  -----------  -----------  ------------  ------------
      100         0           12           12            17            17
                  1           12           12            18            18
                  2           13           13            19            19
                  5           14           14            22            22
                 10           17           17            26            26
                100           61           62           106           106
                200          111          112           194           195
                300          161          162           283           284
     1000         0           18           18            23            23
                  1           23           23            32            32
                  2           28           28            41            41
                  5           43           43            68            68
                 10           68           68           112           112
                100          515          518           910           913
                200         1013         1019          1797          1803
                300         1510         1519          2683          2692
    10000         0           80           80            86            86
                  1          131          130           175           175
                  2          181          180           264           264
                  5          330          331           530           531
                 10          578          581           973           976
                100         5055         5085          8952          8982
                200        10030        10090         17817         17878
                300        15004        15095                       26267
```
## Algorithm=roundrobin, Weight=1 maxconn=50000
```
#backends  #servers  ST=1 T4 RSS  ST=0 T4 RSS  ST=1 T64 RSS  ST=0 T64 RSS
---------  --------  -----------  -----------  ------------  ------------
      100         0                        12                          17
                  1                        12                          18
                  2                        13                          19
                  5                        14                          21
                 10                        16                          25
                100                        54                          99
                200                        97                         180
                300                       139                         262
     1000         0                        18                          23
                  1                        22                          32
                  2                        26                          40
                  5                        39                          64
                 10                        61                         105
                100                       444                         838
                200                       869                        1653
                300                      1295                        2468
    10000         0                        80                          86
                  1                       123                         167
                  2                       166                         249
                  5                       293                         493
                 10                       506                         901
                100                      4338                        8234
                200                      8595                       16382
                300                     12852                       24531
```
