# [NE-1690 -Analyse Memory Impact of Pre-Allocated Server Slots for Different Numbers of Routes](https://issues.redhat.com/browse/NE-1690)
## HAProxy version 2.8.5-aaba8d0 2023/12/07 - https://haproxy.org/
### Algorithm=leastconn, Weight=1 maxconn=50000 (T=#Threads B=#Backends)
```
server-template range: 0..N  T4 B100 RSS (MB)  T4 B1000 RSS (MB)  T4 B10000 RSS (MB)  T64 B100 RSS (MB)  T64 B1000 RSS (MB)  T64 B10000 RSS (MB)
---------------------------  ----------------  -----------------  ------------------  -----------------  ------------------  -------------------
                          0                12                 22                 123                 18                  32                  168
                          1                13                 26                 166                 19                  40                  249
                          2                13                 31                 208                 20                  48                  330
                          5                14                 43                 335                 22                  72                  574
                         10                16                 64                 546                 26                 113                  980
                        100                55                445                4350                 99                 843                 8286
                        200                97                868                8577                180                1655                16403
                        300               139               1290               12804                261                2467                24521
```
### Algorithm=random, Weight=1 maxconn=50000 (T=#Threads B=#Backends)
```
server-template range: 0..N  T4 B100 RSS (MB)  T4 B1000 RSS (MB)  T4 B10000 RSS (MB)  T64 B100 RSS (MB)  T64 B1000 RSS (MB)  T64 B10000 RSS (MB)
---------------------------  ----------------  -----------------  ------------------  -----------------  ------------------  -------------------
                          0                12                 23                 131                 18                  32                  175
                          1                13                 28                 181                 19                  41                  264
                          2                13                 33                 230                 20                  50                  353
                          5                15                 48                 379                 22                  77                  619
                         10                17                 73                 628                 27                 121                 1062
                        100                62                521                5105                107                 919                 9041
                        200               112               1018               10080                195                1806                17906
                        300               161               1515               15054                284                2692                26771
```
### Algorithm=roundrobin, Weight=1 maxconn=50000 (T=#Threads B=#Backends)
```
server-template range: 0..N  T4 B100 RSS (MB)  T4 B1000 RSS (MB)  T4 B10000 RSS (MB)  T64 B100 RSS (MB)  T64 B1000 RSS (MB)  T64 B10000 RSS (MB)
---------------------------  ----------------  -----------------  ------------------  -----------------  ------------------  -------------------
                          0                12                 22                 123                 18                  32                  168
                          1                13                 27                 166                 19                  40                  249
                          2                13                 31                 208                 20                  48                  330
                          5                14                 44                 335                 22                  72                  574
                         10                16                 65                 546                 26                 113                  979
                        100                55                445                4350                 99                 843                 8285
                        200                97                868                8577                180                1655                16403
                        300               139               1290               12803                262                2467                24521
```
